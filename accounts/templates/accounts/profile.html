{% extends 'layout.html' %}

{% block page_title %}User Profile{% endblock %}

{% block breadcrumb_items %}
    <span class="mx-2 text-gray-400">/</span>
    <span class="text-gray-800 font-medium">Profile</span>
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Profile Header -->
    <div class="bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl shadow-2xl p-8 mb-8 text-white relative overflow-hidden">
        <div class="absolute inset-0 bg-white opacity-10"></div>
        <div class="relative flex items-center gap-6">
            <div class="w-24 h-24 rounded-full bg-white bg-opacity-20 backdrop-blur-sm border-4 border-white flex items-center justify-center text-4xl font-bold">
                {{ user.first_name.0|upper }}{{ user.last_name.0|upper }}
            </div>
            <div>
                <h1 class="text-3xl font-bold mb-2">{{ user.get_full_name|default:user.username }}</h1>
                <p class="text-purple-100 text-lg">@{{ user.username }}</p>
                <div class="flex gap-2 mt-3">
                    <span class="px-3 py-1 bg-white bg-opacity-20 backdrop-blur rounded-full text-sm font-medium">
                        {{ user.role }}
                    </span>
                    {% if user.is_superuser %}
                    <span class="px-3 py-1 bg-yellow-400 bg-opacity-30 backdrop-blur rounded-full text-sm font-medium">
                        <i class="fas fa-crown mr-1"></i>Superuser
                    </span>
                    {% endif %}
                    {% if user.is_staff %}
                    <span class="px-3 py-1 bg-green-400 bg-opacity-30 backdrop-blur rounded-full text-sm font-medium">
                        <i class="fas fa-user-shield mr-1"></i>Staff
                    </span>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Information Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <!-- Personal Information -->
        <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-200">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                <i class="fas fa-user text-indigo-600"></i>
                Personal Information
            </h2>
            <div class="space-y-3">
                <div>
                    <label class="text-sm font-medium text-gray-600">First Name</label>
                    <p class="text-gray-900 font-medium">{{ user.first_name|default:"Not set" }}</p>
                </div>
                <div>
                    <label class="text-sm font-medium text-gray-600">Last Name</label>
                    <p class="text-gray-900 font-medium">{{ user.last_name|default:"Not set" }}</p>
                </div>
                <div>
                    <label class="text-sm font-medium text-gray-600">Email</label>
                    <p class="text-gray-900 font-medium">{{ user.email|default:"Not set" }}</p>
                </div>
            </div>
        </div>

        <!-- Account Information -->
        <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-200">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                <i class="fas fa-shield-alt text-purple-600"></i>
                Account Information
            </h2>
            <div class="space-y-3">
                <div>
                    <label class="text-sm font-medium text-gray-600">Username</label>
                    <p class="text-gray-900 font-medium">{{ user.username }}</p>
                </div>
                <div>
                    <label class="text-sm font-medium text-gray-600">Role</label>
                    <p class="text-gray-900 font-medium">{{ user.get_role_display|default:"User" }}</p>
                </div>
                <div>
                    <label class="text-sm font-medium text-gray-600">Status</label>
                    <p class="text-gray-900 font-medium">
                        {% if user.is_active %}
                            <span class="text-green-600"><i class="fas fa-check-circle mr-1"></i>Active</span>
                        {% else %}
                            <span class="text-red-600"><i class="fas fa-times-circle mr-1"></i>Inactive</span>
                        {% endif %}
                    </p>
                </div>
                <div>
                    <label class="text-sm font-medium text-gray-600">Date Joined</label>
                    <p class="text-gray-900 font-medium">{{ user.date_joined|date:"F j, Y" }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Permissions & Access -->
    <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-200 mb-8">
        <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
            <i class="fas fa-key text-amber-600"></i>
            Permissions & Access
        </h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="text-center p-4 bg-gray-50 rounded-lg">
                <i class="fas fa-user-shield text-3xl text-blue-500 mb-2"></i>
                <p class="text-sm font-medium text-gray-600">Superuser</p>
                <p class="text-lg font-bold {{ user.is_superuser|yesno:'text-green-600,text-gray-400' }}">
                    {{ user.is_superuser|yesno:"Yes,No" }}
                </p>
            </div>
            <div class="text-center p-4 bg-gray-50 rounded-lg">
                <i class="fas fa-users-cog text-3xl text-purple-500 mb-2"></i>
                <p class="text-sm font-medium text-gray-600">Staff Status</p>
                <p class="text-lg font-bold {{ user.is_staff|yesno:'text-green-600,text-gray-400' }}">
                    {{ user.is_staff|yesno:"Yes,No" }}
                </p>
            </div>
            <div class="text-center p-4 bg-gray-50 rounded-lg">
                <i class="fas fa-check-circle text-3xl text-green-500 mb-2"></i>
                <p class="text-sm font-medium text-gray-600">Active</p>
                <p class="text-lg font-bold {{ user.is_active|yesno:'text-green-600,text-red-600' }}">
                    {{ user.is_active|yesno:"Yes,No" }}
                </p>
            </div>
            <div class="text-center p-4 bg-gray-50 rounded-lg">
                <i class="fas fa-clock text-3xl text-orange-500 mb-2"></i>
                <p class="text-sm font-medium text-gray-600">Last Login</p>
                <p class="text-sm font-bold text-gray-900">
                    {{ user.last_login|date:"M d, Y"|default:"Never" }}
                </p>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex flex-wrap gap-4 justify-center">
        <a href="{% url 'admin:password_change' %}" class="px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2">
            <i class="fas fa-key"></i>
            Change Password
        </a>
        <a href="{% url 'dashboard:index' %}" class="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2">
            <i class="fas fa-home"></i>
            Back to Dashboard
        </a>
        <a href="{% url 'accounts:logout' %}" class="px-6 py-3 bg-gradient-to-r from-red-500 to-rose-500 text-white rounded-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2">
            <i class="fas fa-sign-out-alt"></i>
            Logout
        </a>
    </div>
</div>

<!-- Additional Info -->
<div class="max-w-4xl mx-auto mt-8 text-center text-gray-500 text-sm">
    <p><i class="fas fa-info-circle mr-1"></i>For security reasons, please do not share your account credentials with anyone.</p>
</div>
{% endblock %}
